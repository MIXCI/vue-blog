(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{58:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("p",[n("a",{attrs:{href:"https://jenkins.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins"),n("OutboundLink")],1),t._v(" 是一款功能强大的应用程序，允许持续集成和持续交付项目。这里记录一些 Jenkins 使用的方法。")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("p",[t._v("安装详见 官网 "),n("a",{attrs:{href:"https://jenkins.io/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins 安装"),n("OutboundLink")],1),t._v(" 流程，各个系统如何安装均有说明。")]),t._v(" "),t._m(2),t._v(" "),n("p",[t._v("CentOS 下安装：")]),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),n("p",[t._v("如：配置全局 GIT：")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),n("p",[n("a",{attrs:{href:"https://plugins.jenkins.io/git-parameter",target:"_blank",rel:"noopener noreferrer"}},[t._v("阅读插件原文（git-parameter）"),n("OutboundLink")],1)]),t._v(" "),t._m(37),t._v(" "),n("p",[t._v("相关工具以及项目配置，都只是小问题而已...")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("以下基于 "),s("code",[this._v("CentOS")]),this._v(" 系统。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("环境依赖： "),s("code",[this._v("java")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("wget")]),t._v(" -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.repo\n"),n("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key\nyum "),n("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" jenkins\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[n("strong",[t._v("默认安装目录")]),t._v(" : "),n("code",[t._v("/var/lib/jenkins")])]),t._v(" "),n("li",[n("strong",[t._v("默认日志目录")]),t._v(" ："),n("code",[t._v("/var/log/jenkins")])]),t._v(" "),n("li",[n("strong",[t._v("默认缓存目录")]),t._v(" : "),n("code",[t._v("/var/cache/jenkins")])]),t._v(" "),n("li",[n("strong",[t._v("默认admin密码文件")]),t._v(" : "),n("code",[t._v("/var/lib/jenkins/secrets/initialAdminPassword")])]),t._v(" "),n("li",[n("strong",[t._v("配置文件")]),t._v(" : "),n("code",[t._v("/etc/sysconfig/jenkins")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("# 启动 Jenkins")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkins start\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 重启 Jenkins")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkins restart\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 停止 Jenkins")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkins stop\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认运行在 "),s("code",[this._v("8080")]),this._v(" 端口， 本机可通过 "),s("code",[this._v("localhost:8080")]),this._v(" 访问。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#卸载","aria-hidden":"true"}},[this._v("#")]),this._v(" 卸载")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkiins stop\nyum clean all\nyum remove jenkins\n"),n("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/lib/jenkins\n"),n("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/cache/jenkins\n"),n("span",{attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/log/jenkins\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"修改端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改端口","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改端口")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("打开"),s("code",[this._v("Jenkins")]),this._v(" 配置文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("vim /etc/sysconfig/jenkins\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("修改 "),s("code",[this._v("$HTTP_PORT")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token variable"}},[this._v("$HTTP_PORT")]),s("span",{attrs:{class:"token operator"}},[this._v("=")]),s("span",{attrs:{class:"token string"}},[this._v('"8080"')]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"获取root用户权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取root用户权限","aria-hidden":"true"}},[this._v("#")]),this._v(" 获取root用户权限")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("打开"),s("code",[this._v("Jenkins")]),this._v(" 配置文件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("vim /etc/sysconfig/jenkins\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("修改 "),s("code",[this._v("HTTP_PORT")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token variable"}},[this._v("$JENKINS_USER")]),s("span",{attrs:{class:"token operator"}},[this._v("=")]),s("span",{attrs:{class:"token string"}},[this._v('"root"')]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("修改"),s("code",[this._v("Jenkins")]),this._v(" 相关目录权限")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R root:root /var/lib/jenkins\n"),n("span",{attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R root:root /var/log/jenkins\n"),n("span",{attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R root:root /var/cache/jenkins\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[this._v("重启"),s("code",[this._v("Jenkins")]),this._v("并验证")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkins restart\n"),n("span",{attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef"),n("span",{attrs:{class:"token operator"}},[t._v("|")]),n("span",{attrs:{class:"token function"}},[t._v("grep")]),t._v(" jenkins\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 若显示为root用户，则表示修改完成")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"开机自启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开机自启","aria-hidden":"true"}},[this._v("#")]),this._v(" 开机自启")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("chkconfig")]),this._v(" jenkins on\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"全局工具配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局工具配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 全局工具配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("全局工具配置可以 配置相关工具如"),s("code",[this._v("Maven")]),this._v("、"),s("code",[this._v("GIT")]),this._v("等工具的路径、或者安装新的不同版本的工具。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("配置该设置需要获取 "),s("code",[this._v("admin")]),this._v("权限，进入"),s("code",[this._v("系统管理 > 全局工具配置")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/images/jenkins_globalconfig.png",alt:"全局配置git"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"用户管理以及用户权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户管理以及用户权限","aria-hidden":"true"}},[this._v("#")]),this._v(" 用户管理以及用户权限")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[t._v("使用"),n("code",[t._v("admin")]),t._v("权限的账号，进入"),n("code",[t._v("系统管理 > 用户管理")]),t._v(", 可以添加/修改/删除 用户。")]),t._v(" "),n("li",[t._v("进入"),n("code",[t._v("系统管理 > 全局安全配置")]),t._v(" 中，勾选 "),n("strong",[t._v("启用安全")]),t._v("。访问控制选择 "),n("strong",[t._v("Jenkins专有用户数据库")]),t._v("，使用 "),n("strong",[t._v("项目矩阵授权策略")]),t._v(", 可以为每个用户分配全局权限。")]),t._v(" "),n("li",[t._v("进入项目配置中，权限 "),n("strong",[t._v("启用项目安全")]),t._v(" 可以单独为该项目分配用户权限。 从而确保每个项目的安全性。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"git-parameter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-parameter","aria-hidden":"true"}},[this._v("#")]),this._v(" Git Parameter")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为项目添加 "),s("code",[this._v("git")]),this._v("分支/标签选择参数构建配置，从而方便通过不同分支构建项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("项目配置：\n"),s("img",{attrs:{src:"https://wiki.jenkins-ci.org/download/attachments/58917601/image2018-9-20_22-0-7.png?version=1&modificationDate=1537473611000&api=v2",alt:"Git Parameter"}}),this._v("\n参数化构建：\n"),s("img",{attrs:{src:"https://wiki.jenkins-ci.org/download/attachments/58917601/image2018-9-20_22-2-47.png?version=1&modificationDate=1537473769000&api=v2",alt:"build width paramters form"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("基础"),s("code",[this._v("pipeline")]),this._v("配置：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// Using git without checkout ")]),t._v("\npipeline "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  agent any\n  parameters "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gitParameter branchFilter"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'origin/(.*)'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'master'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'BRANCH'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'PT_BRANCH'")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  stages "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("stage")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'Example'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      steps "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        git branch"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string gstring"}},[t._v('"'),n("span",{attrs:{class:"token expression"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("$")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("params"),n("span",{attrs:{class:"token operator"}},[t._v(".")]),t._v("BRANCH"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'https://github.com/jenkinsci/git-parameter-plugin.git'")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他","aria-hidden":"true"}},[this._v("#")]),this._v(" 其他")])}],!1,null,null,null);e.options.__file="Jenkins.md";s.default=e.exports}}]);